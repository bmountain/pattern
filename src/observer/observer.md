# オブザーバーパターン

ここでは古典的実装を扱う。

## 実装
監視対象となるクラス（`Person`）を作り以下を持たせる。
- 変更カテゴリタグ一覧
- 自身を監視するオブザーバー（のポインタ）一覧
- オブザーバー登録メソッド
- オブザーバー登録解除メソッド
- 自身と変更カテゴリタグをオブザーバーに送信する通知メソッド（`notify`）。

ポイントは監視が必要な属性を書き換えるセッター内で通知メソッドを呼ぶこと。
通知メソッドは内部でオブザーバーの`update`を呼ぶ。

オブザーバー（`Observer`）を作る。
ここでは`Observer`はテンプレートクラスだがそれは本質的なことではない。
`Observer`を実装する。
通知の際に送信されたタグに応じて動作する（`update`）。

## 使用
監視対象とオブザーバーのインスタンスを作り、オブザーバーのポインタを監視対象に登録する。

## 長所
オブザーバーの追加を容易にする。
`Person`は`Observer`抽象クラスに依存するが`NameObserver`具象クラスに依存しない。
そのため監視対象とオブザーバーの依存関係は循環しない。